<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>MobyException.pm</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@golden2.midominio.es" />
</head>

<body style="background-color: white">

<p><a name="__index__"></a></p>
<!-- INDEX BEGIN -->

<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<li><a href="#authors">AUTHORS</a></li>
	<li><a href="#methods">METHODS</a></li>
	<ul>

		<li><a href="#new">new</a></li>
		<li><a href="#getexceptioncode">getExceptionCode</a></li>
		<li><a href="#getexceptionmessage">getExceptionMessage</a></li>
		<li><a href="#getexceptiontype">getExceptionType</a></li>
		<li><a href="#setexceptioncode">setExceptionCode</a></li>
		<li><a href="#setexceptionmessage">setExceptionMessage</a></li>
		<li><a href="#setexceptiontype">setExceptionType</a></li>
		<li><a href="#retrieveexceptionresponse">retrieveExceptionResponse</a></li>
		<li><a href="#retrieveemptymobydata">retrieveEmptyMobyData</a></li>
		<li><a href="#retrieveemptymobysimple">retrieveEmptyMobySimple</a></li>
		<li><a href="#retrieveemptymobycollection">retrieveEmptyMobyCollection</a></li>
		<li><a href="#embedmobyarticlesintomobydata">embedMOBYArticlesIntoMOBYData</a></li>
		<li><a href="#embedexceptionsintoservicenotes">embedExceptionsIntoServiceNotes</a></li>
		<li><a href="#retrieveemptymobystatus">retrieveEmptyMobyStatus</a></li>
	</ul>

</ul>
<!-- INDEX END -->

<hr />
<p>
</p>
<h1><a name="name">NAME</a></h1>
<p>MOBY::Client::Exception::MobyException</p>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p>Class that contains exception instance and exception methods</p>
<p>
</p>
<hr />
<h1><a name="authors">AUTHORS</a></h1>
<p>Jose Manuel Rodriguez Carrasco <a href="mailto:-jmrodriguez@cnio.es-">-jmrodriguez@cnio.es-</a> (INB-CNIO)</p>
<p>
</p>
<hr />
<h1><a name="methods">METHODS</a></h1>
<p>
</p>
<h2><a name="new">new</a></h2>
<p><strong>Function:</strong> Create new instance of exception class.</p>
<p><table cellspacing="0" cellpadding="0"><tr><td><strong>Args:</strong> 
<tr><td><td>- querID from one MobyData assign to exception.
<tr><td><td>- refElement, reference to articleName.
<tr><td><td>- Exception Code.
<tr><td><td>- Exception Message.
<tr><td><td>- Type of exception: error, information, or warning.</table></p>
<p><table cellspacing="0" cellpadding="0"><tr><td><strong>Returns:</strong> 
<tr><td><td>- Exception Instance.</table></p>
<p><strong>Usage:</strong></p>
<pre>
                my ($exception);
                eval {
                        system(&quot;Your application&quot;) || die ($exception = MOBY::Client::Exception::MobyException-&gt;new(
                                                                                                code =&gt; 200,
                                                                                                queryID =&gt; 1,
                                                                                                refElement =&gt; 'test',
                                                                                                message =&gt; 'Add new description',
                                                                                                type =&gt; 'error',
                                                                                                ));
                };</pre>
<p>
</p>
<h2><a name="getexceptioncode">getExceptionCode</a></h2>
<p><strong>Function:</strong> Return exception code.</p>
<p><strong>Args:</strong> &lt;empty&gt;</p>
<p><table cellspacing="0" cellpadding="0"><tr><td><strong>Returns:</strong> 
<tr><td><td>- Integer: Exception Code.</table></p>
<p><strong>Usage:</strong></p>
<pre>
                my ($exception);
                eval {
                        system(&quot;Your application&quot;) || die ($exception = MOBY::Client::Exception::MobyException-&gt;new(
                                                                                                code =&gt; 200,
                                                                                                queryID =&gt; 1,
                                                                                                refElement =&gt; 'test',
                                                                                                message =&gt; 'Add new description',
                                                                                                type =&gt; 'error',
                                                                                                ));
                };
                if ($@) {
                        if ($exception-&gt;isa('MOBY::Client::Exception::MobyException')) { # Moby Exception
                                print &quot;Code: &quot;.$exception-&gt;getExceptionCode().&quot;\n&quot;;
                        }
                }</pre>
<p>
</p>
<h2><a name="getexceptionmessage">getExceptionMessage</a></h2>
<p><strong>Function:</strong> Return exception message.</p>
<p><strong>Args:</strong> &lt;empty&gt;</p>
<p><table cellspacing="0" cellpadding="0"><tr><td><strong>Returns:</strong> 
<tr><td><td>- String: Exception message.</table></p>
<p><strong>Usage:</strong></p>
<pre>
                my ($exception);
                eval {
                        system(&quot;Your application&quot;) || die ($exception = MOBY::Client::Exception::MobyException-&gt;new(
                                                                                                code =&gt; 200,
                                                                                                queryID =&gt; 1,
                                                                                                refElement =&gt; 'test',
                                                                                                message =&gt; 'Add new description',
                                                                                                type =&gt; 'error',
                                                                                                ));
                };
                if ($@) {
                        if ($exception-&gt;isa('MOBY::Client::Exception::MobyException')) { # Moby Exception
                                print &quot;Message: &quot;.$exception-&gt;getExceptionMessage().&quot;\n&quot;;
                        }
                }</pre>
<p>
</p>
<h2><a name="getexceptiontype">getExceptionType</a></h2>
<p><strong>Function:</strong> Return type of exception.</p>
<p><strong>Args:</strong> &lt;empty&gt;</p>
<p><table cellspacing="0" cellpadding="0"><tr><td><strong>Returns:</strong> 
<tr><td><td>- String (error, information, warning): Exception type of exception.</table></p>
<p><strong>Usage:</strong></p>
<pre>
                my ($exception);
                eval {
                        system(&quot;Your a$exceptionpplication&quot;) || die ($exception = MOBY::Client::Exception::MobyException-&gt;new(
                                                                                                code =&gt; 200,
                                                                                                queryID =&gt; 1,
                                                                                                refElement =&gt; 'test',
                                                                                                message =&gt; 'Add new description',
                                                                                                type =&gt; 'error',
                                                                                                ));
                };
                if ($@) {
                        if ($exception-&gt;isa('MOBY::Client::Exception::MobyException')) { # Moby Exception
                                print &quot;Type: &quot;.$exception-&gt;getExceptionType().&quot;\n&quot;;
                        }
                }</pre>
<p>
</p>
<h2><a name="setexceptioncode">setExceptionCode</a></h2>
<p><strong>Function:</strong> Assign exception code.</p>
<p><table cellspacing="0" cellpadding="0"><tr><td><strong>Args:</strong> 
<tr><td><td>- Integer: Exception Code.</table></p>
<p><strong>Returns:</strong> &lt;empty&gt;</p>
<p><strong>Usage:</strong></p>
<pre>
                my ($exception);
                eval {
                        system(&quot;Your application&quot;) || die ($exception = MOBY::Client::Exception::MobyException-&gt;new());
                };
                if ($@) {
                        if ($exception-&gt;isa('MOBY::Client::Exception::MobyException')) { # Moby Exception
                                # Add new attribute
                                $exception-&gt;setExceptionCode(200);
                        }
                }</pre>
<p>
</p>
<h2><a name="setexceptionmessage">setExceptionMessage</a></h2>
<p><strong>Function:</strong> Assign exception message.</p>
<p><table cellspacing="0" cellpadding="0"><tr><td><strong>Args:</strong> 
<tr><td><td>- String: Exception message.</table></p>
<p><strong>Returns:</strong> &lt;empty&gt;</p>
<p><strong>Usage:</strong></p>
<pre>
                my ($exception);
                eval {
                        system(&quot;Your application&quot;) || die ($exception = MOBY::Client::Exception::MobyException-&gt;new());
                };
                if ($@) {
                        if ($exception-&gt;isa('MOBY::Client::Exception::MobyException')) { # Moby Exception
                                # Add new attribute
                                $exception-&gt;setExceptionMessage(&quot;Add new description&quot;);
                        }
                }</pre>
<p>
</p>
<h2><a name="setexceptiontype">setExceptionType</a></h2>
<p><strong>Function:</strong> Assign type of exception to attribute of class.</p>
<p><table cellspacing="0" cellpadding="0"><tr><td><strong>Args:</strong> 
<tr><td><td>- String (error, information, warning): type of exception.</table></p>
<p><strong>Returns:</strong> &lt;empty&gt;</p>
<p><strong>Usage:</strong></p>
<pre>
                my ($exception);
                eval {
                        system(&quot;Your application&quot;) || die ($exception = MOBY::Client::Exception::MobyException-&gt;new());
                };
                if ($@) {
                        if ($exception-&gt;isa('MOBY::Client::Exception::MobyException')) { # Moby Exception
                                # Add new attribute
                                $exception-&gt;setExceptionType(&quot;error&quot;);
                        }
                }</pre>
<p>
</p>
<h2><a name="retrieveexceptionresponse">retrieveExceptionResponse</a></h2>
<p><strong>Function:</strong> Return xml block that will be the exception response (error, warning or information).</p>
<p><strong>Args:</strong> &lt;empty&gt;</p>
<p><table cellspacing="0" cellpadding="0"><tr><td><strong>Returns:</strong>
<tr><td><td> - xml block of exception response. Example of 'error' block:</table></p>
<pre>
                &lt;mobyException refQueryID='queryID' refElement='refElement' severity='error'&gt;
                        &lt;exceptionCode&gt;code&lt;/exceptionCode&gt;
                        &lt;exceptionMessage&gt;error message + new description&lt;/exceptionMessage&gt;
                &lt;/mobyException&gt;</pre>
<p><strong>Usage:</strong></p>
<pre>
                my ($exception);
                eval {
                        system(&quot;Your application&quot;) || die ($exception = MOBY::Client::Exception::MobyException-&gt;new(
                                                                                                code =&gt; 200,
                                                                                                queryID =&gt; 1,
                                                                                                refElement =&gt; 'test',
                                                                                                message =&gt; 'Add new description',
                                                                                                type =&gt; 'error',
                                                                                                ));
                };
                if ($@) {
                        if ($exception-&gt;isa('MOBY::Client::Exception::MobyException')) { # Moby Exception
                                print &quot;Exception Response: &quot;.$exception-&gt;retrieveExceptionResponse().&quot;\n&quot;;
                        }
                }</pre>
<p>
</p>
<h2><a name="retrieveemptymobydata">retrieveEmptyMobyData</a></h2>
<p><strong>Function:</strong> Return xml block of one empty MobyData.</p>
<p><strong>Args:</strong> &lt;empty&gt;</p>
<p><table cellspacing="0" cellpadding="0"><tr><td><strong>Returns:</strong>
<tr><td><td>- xml block of one empty MobyData:</table></p>
<pre>
                &lt;moby:mobyData moby:queryID='queryID' /&gt;</pre>
<p><strong>Usage:</strong></p>
<pre>
                my ($exception);
                eval {
                        system(&quot;Your application&quot;) || die ($exception = MOBY::Client::Exception::MobyException-&gt;new(
                                                                                                code =&gt; 200,
                                                                                                queryID =&gt; 1,
                                                                                                refElement =&gt; 'test',
                                                                                                message =&gt; 'Add new description',
                                                                                                type =&gt; 'error',
                                                                                                ));
                };
                if ($@) {
                        if ($exception-&gt;isa('MOBY::Client::Exception::MobyException')) { # Moby Exception
                                print &quot;Empty MobyData Response: &quot;.$exception-&gt;retrieveEmptyMobyData().&quot;\n&quot;;
                        }
                }</pre>
<p>
</p>
<h2><a name="retrieveemptymobysimple">retrieveEmptyMobySimple</a></h2>
<p><strong>Function:</strong> Return xml block of one empty simple MobyArticle.</p>
<p><table cellspacing="0" cellpadding="0"><tr><td><strong>Args:</strong>
<tr><td><td> - String: name of output article.</table></p>
<p><table cellspacing="0" cellpadding="0"><tr><td><strong>Returns:</strong>
<tr><td><td> - xml block of one empty simple MobyArticle:</table></p>
<pre>
                &lt;moby:Simple moby:articleName='outputArticle' /&gt;</pre>
<p><strong>Usage:</strong></p>
<pre>
                my ($exception);
                eval {
                        system(&quot;Your application&quot;) || die ($exception = MOBY::Client::Exception::MobyException-&gt;new(
                                                                                                code =&gt; 200,
                                                                                                queryID =&gt; 1,
                                                                                                refElement =&gt; 'test',
                                                                                                message =&gt; 'Add new description',
                                                                                                type =&gt; 'error',
                                                                                                ));
                };
                if ($@) {
                        if ($exception-&gt;isa('MOBY::Client::Exception::MobyException')) { # Moby Exception
                                my ($emptyMobyResponse) = $exception-&gt;retrieveEmptyMobySimple('outputArticle');
                        }
                }</pre>
<p>
</p>
<h2><a name="retrieveemptymobycollection">retrieveEmptyMobyCollection</a></h2>
<p><strong>Function:</strong> Return xml block of one empty collection MobyArticle.</p>
<p><table cellspacing="0" cellpadding="0"><tr><td><strong>Args:</strong>
<tr><td><td> - String: name of output article.</table></p>
<p><table cellspacing="0" cellpadding="0"><tr><td><strong>Returns:</strong>
<tr><td><td> - xml block of one empty collection MobyArticle:</table></p>
<pre>
                &lt;moby:Collection moby:articleName='outputArticle' /&gt;</pre>
<p><strong>Usage:</strong></p>
<pre>
                my ($exception);
                eval {
                        system(&quot;Your application&quot;) || die ($exception = MOBY::Client::Exception::MobyException-&gt;new(
                                                                                                code =&gt; 200,
                                                                                                queryID =&gt; 1,
                                                                                                refElement =&gt; 'test',
                                                                                                message =&gt; 'Add new description',
                                                                                                type =&gt; 'error',
                                                                                                ));
                };
                if ($@) {
                        if ($exception-&gt;isa('MOBY::Client::Exception::MobyException')) { # Moby Exception
                                my ($emptyMobyResponse) = $exception-&gt;retrieveEmptyMobyCollection('outputArticle');
                        }
                }</pre>
<p>
</p>
<h2><a name="embedmobyarticlesintomobydata">embedMOBYArticlesIntoMOBYData</a></h2>
<p><strong>Function:</strong> Return MobyData inserting MobyArticles that has been giving by input.</p>
<p><table cellspacing="0" cellpadding="0"><tr><td><strong>Args:</strong>
<tr><td><td> - xml block which contains MobyArticles.</table></p>
<p><table cellspacing="0" cellpadding="0"><tr><td><strong>Returns:</strong>
<tr><td><td> - xml block of MobyData:</table></p>
<pre>
                &lt;moby:mobyData moby:queryID='queryID'&gt;output MOBYArticles&lt;/moby:mobyData&gt;</pre>
<p><strong>Usage:</strong></p>
<pre>
                my ($exception);
                eval {
                        system(&quot;Your application&quot;) || die ($exception = MOBY::Client::Exception::MobyException-&gt;new(
                                                                                                code =&gt; 200,
                                                                                                queryID =&gt; 1,
                                                                                                refElement =&gt; 'test',
                                                                                                message =&gt; 'Add new description',
                                                                                                type =&gt; 'error',
                                                                                                ));
                };
                if ($@) {
                        if ($exception-&gt;isa('MOBY::Client::Exception::MobyException')) { # Moby Exception
                                my ($emptyMobyResponse) = $exception-&gt;retrieveEmptyMobyCollection('outputArticle');
                                print &quot;Moby Response: &quot;.$exception-&gt;embedMOBYArticlesIntoMOBYData($emptyMobyResponse);
                        }
                }

</pre>
<p>
</p>
<h2><a name="embedexceptionsintoservicenotes">embedExceptionsIntoServiceNotes</a></h2>
<p><strong>Function:</strong> Return ServiceNotes tag inserting MobyExceptions that has been giving by input.

</p>
<p><table cellspacing="0" cellpadding="0"><tr><td><strong>Args:</strong>
<tr><td><td> - xml block which contains MobyExceptions.
<tr><td>
</table></p>
<p><table cellspacing="0" cellpadding="0"><tr><td><strong>Returns:</strong>
<tr><td><td> - xml block of Service Notes:
<tr><td>
</table></p>
<pre>
                &lt;serviceNotes&gt;$outputMOBYExceptions&lt;/serviceNotes&gt;

</pre>
<p><strong>Usage:</strong>

</p>
<pre>
                my ($exception);
                eval {
                        system(&quot;Your application&quot;) || die ($exception = MOBY::Client::Exception::MobyException-&gt;new(
                                                                                                code =&gt; 200,
                                                                                                queryID =&gt; 1,
                                                                                                refElement =&gt; 'test',
                                                                                                message =&gt; 'Add new description',
                                                                                                type =&gt; 'error',
                                                                                                ));
                };
                if ($@) {
                        if ($exception-&gt;isa('MOBY::Client::Exception::MobyException')) { # Moby Exception
                                my ($emptyMobyResponse) = $exception-&gt;retrieveEmptyMobyCollection('outputArticle');
                                my ($exceptionMobyResponse) = $exception-&gt;embedMOBYArticlesIntoMOBYData($emptyMobyResponse);
                                print &quot;Service Notes: &quot;.$exception-&gt;embedExceptionsIntoServiceNotes($exceptionMobyResponse);
                        }
                }

</pre>
<p>
</p>
<h2><a name="retrieveemptymobystatus">retrieveEmptyMobyStatus</a></h2>
<p><strong>Function:</strong> Return xml block of one empty MobyStatus.

</p>
<p><strong>Args:</strong> &lt;empty&gt;

</p>
<p><table cellspacing="0" cellpadding="0"><tr><td><strong>Returns:</strong>
<tr><td><td> - xml block of one empty MobyStatus:
<tr><td>
</table></p>
<pre>
                &lt;moby:mobyStatus moby:queryID='queryID' /&gt;

</pre>

</body>

</html>
